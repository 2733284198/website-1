define("javascripts/apps/main/views/LightBox",["Backbone","bry4n/backbone-shortcuts","../templates/LightBox.html"],function(t,e,r){var n,o,i,s=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty,u=function(t,e){function r(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);r.prototype=e.prototype;t.prototype=new r;t.__super__=e.prototype;return t};n=t("Backbone");t("bry4n/backbone-shortcuts");o=function(e){function r(){this.dismiss=s(this.dismiss,this);this.showNext=s(this.showNext,this);this.showPrevious=s(this.showPrevious,this);this.showAlbum=s(this.showAlbum,this);this.render=s(this.render,this);i=r.__super__.constructor.apply(this,arguments);return i}u(r,e);r.prototype.template=_.template(t("../templates/LightBox.html"));r.prototype.events={"click .lb-prev":"showPrevious","click .lb-next":"showNext"};r.prototype.shortcuts={left:"showPrevious",right:"showNext",esc:"dismiss"};r.prototype.initialize=function(){this.images=[];this.currentImageIndex=-1;this.$el.html(this.template());_.extend(this,new n.Shortcuts);this.delegateShortcuts();return this.$el.modal({show:!0})};r.prototype.render=function(){return this};r.prototype.updateNavButtons=function(){this.currentImageIndex<=0?this.$(".lb-prev").hide():this.$(".lb-prev").show();return this.currentImageIndex>=this.images.length-1?this.$(".lb-next").hide():this.$(".lb-next").show()};r.prototype.showAlbum=function(t,e){this.currentImageIndex=e;this.images=t;this.updateNavButtons();return this.$(".modal-body img").attr("src",this.images[this.currentImageIndex])};r.prototype.showPrevious=function(){if(!(this.currentImageIndex<=0)){this.currentImageIndex-=1;this.updateNavButtons();return this.$(".modal-body img").attr("src",this.images[this.currentImageIndex])}};r.prototype.showNext=function(){if(!(this.currentImageIndex>=this.images.length-1)){this.currentImageIndex+=1;this.updateNavButtons();return this.$(".modal-body img").attr("src",this.images[this.currentImageIndex])}};r.prototype.dismiss=function(){return this.$(".close").click()};return r}(n.View);r.exports=o});